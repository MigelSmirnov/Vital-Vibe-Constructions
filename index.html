<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Reformas en Barcelona. Cocinas, ba√±os, electricidad y pintura. Hablamos Espa√±ol, English y –†—É—Å—Å–∫–∏–π. Presupuesto sin compromiso.">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flag-icons/css/flag-icons.min.css">
  <title>Vital Vibe Construction ‚Äì Reformas en Barcelona | Cocinas, Ba√±os, Electricidad</title>

  <style>
    * { box-sizing: border-box; }

    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: #f5f5f5;
      color: #333;
    }

    header {
      background: #2b6cb0;
      color: white;
      padding: 25px;
      text-align: center;
      font-size: 22px;
      font-weight: bold;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px;
    }

    .hero {
      position: relative;
      height: 380px;
      border-radius: 8px;
      overflow: hidden;
      margin-bottom: 20px;
      background: url('images/fabula-ai.png') center/cover no-repeat;
    }
    
    .hero::before {
      content: "";
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,0.35);
    }
    
    .hero-overlay {
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      color: white;
      padding: 15px;
    }
    
    .hero-overlay h1 {
      margin: 0 0 10px;
      font-size: 26px;
      max-width: 90%;
    }
    
    .hero-overlay p {
      margin: 0;
      font-size: 16px;
      max-width: 90%;
    }

    h2 { margin-top: 25px; }

    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
      margin-top: 20px;
    }

    .card {
      background: white;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.08);
    }

    .calculator-wrap {
      margin-top: 30px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 18px;
    }
    
    .calculator {
      background: #ffffff;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.08);
    }
    
    .calculator-note {
      background: #fffbe8;
      padding: 15px;
      border-left: 4px solid #f4b400;
      border-radius: 8px;
      color: #444;
      font-size: 15px;
      line-height: 1.5;
    }
    
    @media(max-width: 768px) {
      .calculator-wrap {
        grid-template-columns: 1fr;
      }
    }

    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
    }

    input {
      padding: 8px;
      width: 120px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    footer {
      background: #1a202c;
      color: white;
      text-align: center;
      padding: 20px;
      margin-top: 40px;
    }

    .gallery-btn, .whatsapp-btn {
      display: inline-block;
      background: #2b6cb0;
      color: white;
      padding: 12px 18px;
      border-radius: 10px;
      text-decoration: none;
      font-weight: bold;
      margin-top: 20px;
      transition: opacity 0.2s;
    }
    
    .gallery-btn:hover, .whatsapp-btn:hover { 
      opacity: 0.9; 
    }

    .whatsapp-btn {
      background: #25D366;
    }

    .langs {
      background: #f1f5ff;
      color: #1f2c48;
      text-align: center;
      padding: 10px 8px;
      font-size: 15px;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
    }

    .langs span:first-child {
      font-weight: 600;
    }

    .langs button {
      border: none;
      background: white;
      padding: 6px 10px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.2s;
    }

    .langs button:hover {
      background: #e5edff;
    }

    .langs button.active {
      background: #2b6cb0;
      color: white;
      font-weight: bold;
    }
  </style>
</head>

<body>
  <div class="langs">
    <span>Hablamos:</span>

    <button onclick="setLang('es')" data-lang="es" aria-label="Cambiar a Espa√±ol">
      <span class="fi fi-es"></span> Espa√±ol
    </button>

    <button onclick="setLang('en')" data-lang="en" aria-label="Switch to English">
      <span class="fi fi-gb"></span> English
    </button>

    <button onclick="setLang('ru')" data-lang="ru" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ –†—É—Å—Å–∫–∏–π">
      <span class="fi fi-ru"></span> –†—É—Å—Å–∫–∏–π
    </button>
  </div>

  <header>
    Vital Vibe Constructions
  </header>

  <main>
    <div class="container">

      <div class="hero">
        <div class="hero-overlay">
          <h1 data-i18n="hero_title">Reformas integrales en Barcelona</h1>
          <p data-i18n="hero_subtitle">Cocinas, ba√±os, electricidad y pintura</p>
        </div>
      </div>

      <section>
        <h2 data-i18n="about_title">Sobre nosotros</h2>
        <p data-i18n="about_p1">Somos una empresa de reformas con experiencia en Barcelona.</p>
        <p data-i18n="about_p2">Ofrecemos servicios de calidad con presupuesto sin compromiso.</p>
      </section>

      <section>
        <h2 data-i18n="types_title">Tipos de reforma</h2>

        <div class="cards">
          <div class="card">
            <h3 data-i18n="types_econ_title">Econ√≥mica</h3>
            <p>
              <span data-i18n="types_price_label">Precio:</span>
              <strong>800 ‚Ç¨ / m¬≤</strong>
            </p>
            <p data-i18n="types_econ_text">Materiales b√°sicos de calidad.</p>
          </div>

          <div class="card">
            <h3 data-i18n="types_std_title">Est√°ndar</h3>
            <p>
              <span data-i18n="types_price_label">Precio:</span>
              <strong>1200 ‚Ç¨ / m¬≤</strong>
            </p>
            <p data-i18n="types_std_text">Materiales de gama media.</p>
          </div>

          <div class="card">
            <h3 data-i18n="types_prem_title">Premium</h3>
            <p>
              <span data-i18n="types_price_label">Precio:</span>
              <strong>1500 ‚Ç¨ / m¬≤</strong>
            </p>
            <p data-i18n="types_prem_text">Materiales de alta gama.</p>
          </div>
        </div>
      </section>

      <div class="calculator-wrap">
        <form class="calculator" onsubmit="return false;">
          <h2 data-i18n="calc_title">Calculadora de presupuesto</h2>
          <label for="area" data-i18n="calc_intro">Introduce los m¬≤ de tu reforma:</label>
          <input id="area" type="number" placeholder="0" min="0" step="0.1" aria-label="Metros cuadrados">
          
          <p>
            <span data-i18n="calc_econ">Econ√≥mica</span>
            <span>(<strong>800 ‚Ç¨ / m¬≤</strong>)</span>
            <strong><span id="eco">‚Äî</span></strong>
          </p>

          <p>
            <span data-i18n="calc_std">Est√°ndar</span>
            <span>(<strong>1200 ‚Ç¨ / m¬≤</strong>)</span>
            <strong><span id="std">‚Äî</span></strong>
          </p>

          <p>
            <span data-i18n="calc_pre">Premium</span>
            <span>(<strong>1500 ‚Ç¨ / m¬≤</strong>)</span>
            <strong><span id="pre">‚Äî</span></strong>
          </p>
        </form>

        <div class="calculator-note">
          <strong data-i18n="calc_note_title">Nota:</strong><br>
          <span data-i18n="calc_note_text">Los precios son aproximados. El presupuesto final depender√° del proyecto espec√≠fico.</span>
        </div>
      </div>

      <a href="projects.html" class="gallery-btn" data-i18n="projects_button">
        üì∏ Ver todos los proyectos
      </a>

      <section>
        <h2 data-i18n="contact_title">Contacto</h2>
        <p id="phone"></p>
        <a id="wa" target="_blank" rel="noopener" class="whatsapp-btn" data-i18n="contact_whatsapp">
          üí¨ Escribir por WhatsApp
        </a>
        <p>Email: <span id="email"></span></p>
      </section>

    </div>
  </main>

  <footer>
    ¬© 2025 Reformas y Construcci√≥n
  </footer>

  <script>
    const p1 = "+34";
    const p2 = "691";
    const p3 = "07";
    const p4 = "46";
    const p5 = "18";

    const full = `${p1} ${p2} ${p3} ${p4} ${p5}`;
    const waLink = `https://wa.me/${p1.replace('+','')}${p2}${p3}${p4}${p5}`;

    document.getElementById("phone").innerHTML =
      `Tel√©fono: <a href="tel:+34691074618">${full}</a>`;
    document.getElementById("wa").href = waLink;

    const e1 = "info";
    const e2 = "vitalvibeconstruction";
    const e3 = "com";
    document.getElementById("email").innerHTML =
      `<a href="mailto:${e1}@${e2}.${e3}">${e1}@${e2}.${e3}</a>`;
  </script>

  <script>
    const areaInput = document.getElementById('area');
    const eco = document.getElementById('eco');
    const std = document.getElementById('std');
    const pre = document.getElementById('pre');

    function formatEuro(num) {
      return new Intl.NumberFormat('es-ES', { style: 'currency', currency: 'EUR' }).format(num);
    }

    areaInput.addEventListener('input', () => {
      const m2 = parseFloat(areaInput.value);

      if (isNaN(m2) || m2 <= 0) {
        eco.textContent = std.textContent = pre.textContent = '‚Äî';
        return;
      }

      eco.textContent = formatEuro(m2 * 800);
      std.textContent = formatEuro(m2 * 1200);
      pre.textContent = formatEuro(m2 * 1500);
    });
  </script>

  <script>
    let translations = {};
    let currentLang = localStorage.getItem("lang") || "es";

    function applyTranslations(lang) {
      document.querySelectorAll("[data-i18n]").forEach(el => {
        const key = el.dataset.i18n;
        if (translations[lang] && translations[lang][key]) {
          el.textContent = translations[lang][key];
        }
      });

      document.querySelectorAll('.langs button').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.lang === lang);
      });
    }

    function setLang(lang) {
      currentLang = lang;
      localStorage.setItem("lang", lang);
      applyTranslations(lang);
    }

    fetch("translations.json")
      .then(r => {
        if (!r.ok) throw new Error(`HTTP error! status: ${r.status}`);
        return r.json();
      })
      .then(data => {
        translations = data;
        applyTranslations(currentLang);
      })
      .catch(err => {
        console.error("Translation load error:", err);
        applyTranslations("es");
      });
  </script>

</body>
</html>